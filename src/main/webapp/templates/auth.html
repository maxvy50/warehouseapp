<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org/"
      lang="en">

<head>
    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="../scripts/entire.js" th:src="@{/scripts/sessions.js}"></script>
    <!-- Bootstrap CSS  -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- Bootstrap optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">
    <!-- Bootstrap JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <link rel="stylesheet" type="text/css" media="all" href="../css/styles.css" th:href="@{/css/styles.css}"/>

    <meta charset="UTF-8">

    <title th:text="${pageName}">YAShA</title>

</head>

<body>

<form id="authForm" class="centered-form panel panel-default">
    <div class="statusDiv"></div>
    <div class="panel-body" th:include="~{authForms :: ${formToLoad}}"></div>
</form>

<script src="../scripts/entire.js" th:src="@{/scripts/entire.js}"></script>

<script>
    ajaxPost("#authForm", {
        203/*SC_NON_AUTHORITATIVE_INFORMATION*/: function () {
            $("#authForm").find("div.statusDiv").html("Either incorrect username or password!");
        },
        200/*SC_SUCCESS*/: function () {
            window.location.href = (window.location.pathname == "/register") ? "/auth" : "/";
        }
    })
</script>

</body>

</html>